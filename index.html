<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>FL Studio Theme Creator</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #1a1a2e 0%, #16213e 100%);
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: #0f1419;
            border-radius: 15px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.5);
            overflow: hidden;
            border: 1px solid #2a2a3e;
        }

        .github-banner {
            background: linear-gradient(135deg, #6366f1 0%, #8b5cf6 100%);
            padding: 15px 40px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            flex-wrap: wrap;
            gap: 15px;
        }

        .github-banner-content {
            display: flex;
            align-items: center;
            gap: 15px;
            color: white;
        }

        .github-icon {
            font-size: 32px;
        }

        .github-text h3 {
            margin: 0;
            font-size: 18px;
            font-weight: 600;
        }

        .github-text p {
            margin: 5px 0 0 0;
            font-size: 14px;
            opacity: 0.9;
        }

        .github-button {
            background: white;
            color: #6366f1;
            padding: 12px 24px;
            border-radius: 8px;
            text-decoration: none;
            font-weight: 600;
            display: inline-flex;
            align-items: center;
            gap: 8px;
            transition: all 0.3s;
            border: none;
            cursor: pointer;
        }

        .github-button:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(255,255,255,0.3);
        }

        .star-icon {
            font-size: 18px;
        }

        .tabs {
            display: flex;
            background: #1a1d29;
            border-bottom: 2px solid #2a2a3e;
        }

        .tab {
            flex: 1;
            padding: 20px;
            text-align: center;
            color: #e0e0e0;
            cursor: pointer;
            transition: all 0.3s;
            border: none;
            font-size: 16px;
            font-weight: 600;
            background: transparent;
        }

        .tab:hover {
            background: #252836;
            color: #fff;
        }

        .tab.active {
            background: #6366f1;
            color: white;
        }

        .tab-content {
            display: none;
            padding: 40px;
        }

        .tab-content.active {
            display: block;
        }

        h1 {
            color: #e0e0e0;
            margin-bottom: 30px;
            font-size: 32px;
        }

        h2 {
            color: #8b5cf6;
            margin-top: 30px;
            margin-bottom: 15px;
            font-size: 24px;
        }

        h3 {
            color: #e0e0e0;
            margin-top: 20px;
            margin-bottom: 10px;
            font-size: 18px;
        }

        .upload-area {
            border: 3px dashed #6366f1;
            border-radius: 10px;
            padding: 40px;
            text-align: center;
            margin-bottom: 30px;
            cursor: pointer;
            transition: all 0.3s;
            background: #1a1d29;
        }

        .upload-area:hover {
            background: #252836;
            border-color: #8b5cf6;
        }

        .upload-area.dragover {
            background: #2a2d3a;
            border-color: #8b5cf6;
        }

        input[type="file"] {
            display: none;
        }

        .color-picker-group {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }

        .color-item {
            display: flex;
            flex-direction: column;
            gap: 10px;
        }

        .color-item label {
            font-weight: 600;
            color: #e0e0e0;
        }

        .color-input-wrapper {
            display: flex;
            gap: 10px;
            align-items: center;
        }

        input[type="color"] {
            width: 60px;
            height: 40px;
            border: none;
            border-radius: 5px;
            cursor: pointer;
        }

        input[type="text"] {
            flex: 1;
            padding: 10px;
            border: 2px solid #2a2a3e;
            border-radius: 5px;
            font-family: monospace;
            background: #1a1d29;
            color: #e0e0e0;
        }

        input[type="text"]:focus {
            outline: none;
            border-color: #6366f1;
        }

        button {
            background: #6366f1;
            color: white;
            border: none;
            padding: 15px 30px;
            border-radius: 5px;
            cursor: pointer;
            font-size: 16px;
            font-weight: 600;
            transition: all 0.3s;
            margin-right: 10px;
            margin-bottom: 10px;
        }

        button:hover {
            background: #8b5cf6;
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(99, 102, 241, 0.4);
        }

        button:disabled {
            background: #3a3a4a;
            cursor: not-allowed;
            transform: none;
            box-shadow: none;
        }

        .preview-area {
            margin-top: 30px;
            padding: 20px;
            background: #1a1d29;
            border-radius: 10px;
            border: 1px solid #2a2a3e;
        }

        .preview-area img {
            max-width: 100%;
            border-radius: 5px;
        }

        .instructions {
            line-height: 1.8;
            color: #c0c0c0;
        }

        .instructions ol, .instructions ul {
            margin-left: 30px;
            margin-bottom: 20px;
        }

        .instructions li {
            margin-bottom: 10px;
        }

        .note {
            background: #2a2410;
            border-left: 4px solid #ffc107;
            padding: 15px;
            margin: 20px 0;
            border-radius: 5px;
            color: #ffd54f;
        }

        .success {
            background: #1a2e1a;
            border-left: 4px solid #28a745;
            padding: 15px;
            margin: 20px 0;
            border-radius: 5px;
            color: #81c784;
        }

        .error {
            background: #2e1a1a;
            border-left: 4px solid #dc3545;
            padding: 15px;
            margin: 20px 0;
            border-radius: 5px;
            color: #e57373;
        }

        code {
            background: #1a1d29;
            color: #8b5cf6;
            padding: 2px 6px;
            border-radius: 3px;
            font-family: 'Courier New', monospace;
            border: 1px solid #2a2a3e;
        }

        .theme-info {
            background: #1a1d29;
            padding: 20px;
            border-radius: 10px;
            margin-bottom: 20px;
            border: 1px solid #2a2a3e;
        }

        .theme-info input {
            width: 100%;
            padding: 10px;
            margin-top: 5px;
            border: 2px solid #2a2a3e;
            border-radius: 5px;
            background: #0f1419;
            color: #e0e0e0;
        }

        .theme-info input:focus {
            outline: none;
            border-color: #6366f1;
        }

        .theme-info label {
            color: #c0c0c0;
        }

        .button-group {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            margin-top: 20px;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="github-banner">
            <div class="github-banner-content">
                <div class="github-icon">‚≠ê</div>
                <div class="github-text">
                    <h3>Love this tool? Star us on GitHub!</h3>
                    <p>Support the project and stay updated with new features</p>
                </div>
            </div>
            <a href="https://github.com/AceAdxm/FlStudioModx" target="_blank" class="github-button">
                <span class="star-icon">‚≠ê</span>
                Star on GitHub
            </a>
        </div>

        <div class="tabs">
            <button class="tab active" onclick="switchTab(0)">Theme Creator</button>
            <button class="tab" onclick="switchTab(1)">Instructions</button>
        </div>

        <div class="tab-content active">
            <h1>FL Studio Theme Creator</h1>
            
            <div class="theme-info">
                <h3>Theme Information</h3>
                <label>Theme Name:</label>
                <input type="text" id="themeName" placeholder="My Custom Theme" value="Custom Theme">
                <label style="margin-top: 15px; display: block;">Author:</label>
                <input type="text" id="themeAuthor" placeholder="Your Name" value="Anonymous">
            </div>

            <h2>Step 1: Upload Background Image</h2>
            <div class="upload-area" id="uploadArea">
                <p style="font-size: 18px; color: #8b5cf6; margin-bottom: 10px;">üìÅ Click or drag an image here</p>
                <p style="color: #c0c0c0;">Supports PNG, JPG, JPEG</p>
                <input type="file" id="fileInput" accept="image/png,image/jpeg,image/jpg">
            </div>

            <div id="imagePreview" class="preview-area" style="display: none;">
                <h3>Image Preview:</h3>
                <img id="previewImg" alt="Preview">
            </div>

            <h2>Step 2: Customize Colors</h2>
            <div class="color-picker-group">
                <div class="color-item">
                    <label>Primary Accent</label>
                    <div class="color-input-wrapper">
                        <input type="color" id="color1" value="#3498db">
                        <input type="text" id="color1Hex" value="#3498db">
                    </div>
                </div>
                <div class="color-item">
                    <label>Secondary Accent</label>
                    <div class="color-input-wrapper">
                        <input type="color" id="color2" value="#2ecc71">
                        <input type="text" id="color2Hex" value="#2ecc71">
                    </div>
                </div>
                <div class="color-item">
                    <label>Highlight Color</label>
                    <div class="color-input-wrapper">
                        <input type="color" id="color3" value="#e74c3c">
                        <input type="text" id="color3Hex" value="#e74c3c">
                    </div>
                </div>
                <div class="color-item">
                    <label>Text Color</label>
                    <div class="color-input-wrapper">
                        <input type="color" id="color4" value="#ffffff">
                        <input type="text" id="color4Hex" value="#ffffff">
                    </div>
                </div>
            </div>

            <div class="button-group">
                <button onclick="generateTheme()" id="generateBtn" disabled>Generate Theme Files</button>
                <button onclick="downloadAll()">Download All Files</button>
                <button onclick="resetAll()">Reset</button>
            </div>

            <div id="statusMessage"></div>
        </div>

        <div class="tab-content">
            <h1>How to Use FL Studio Theme Creator</h1>
            
            <div class="instructions">
                <h2>Quick Start Guide</h2>
                <p>This tool helps you create custom themes for FL Studio by converting your images and customizing colors.</p>

                <h3>Step-by-Step Instructions:</h3>
                <ol>
                    <li><strong>Upload Your Background Image:</strong>
                        <ul>
                            <li>Click the upload area or drag and drop an image (PNG or JPG)</li>
                            <li>Recommended size: 1920x1080 or larger</li>
                            <li>The image will be used as your FL Studio background</li>
                        </ul>
                    </li>
                    <li><strong>Customize Your Colors:</strong>
                        <ul>
                            <li>Click on each color picker to choose your preferred colors</li>
                            <li>Or type hex color codes directly into the text fields</li>
                            <li>These colors will affect FL Studio's interface elements</li>
                        </ul>
                    </li>
                    <li><strong>Generate Theme Files:</strong>
                        <ul>
                            <li>Click "Generate Theme Files" button</li>
                            <li>The tool will create all necessary files for your theme</li>
                        </ul>
                    </li>
                    <li><strong>Download Your Theme:</strong>
                        <ul>
                            <li>Click "Download All Files" to get all files</li>
                            <li>Files will download individually to your downloads folder</li>
                        </ul>
                    </li>
                </ol>

                <h2>Installing Your Theme in FL Studio</h2>
                <ol>
                    <li>Close FL Studio if it's running</li>
                    <li>Navigate to your FL Studio installation folder, typically:
                        <ul>
                            <li>Windows: <code>C:\Program Files\Image-Line\FL Studio 21\Artwork</code></li>
                            <li>Or: <code>C:\Program Files (x86)\Image-Line\FL Studio 21\Artwork</code></li>
                        </ul>
                    </li>
                    <li>Create a backup of the original files (recommended)</li>
                    <li>Copy your generated theme files into the <code>Artwork</code> folder</li>
                    <li>Replace existing files when prompted</li>
                    <li>Launch FL Studio to see your new theme</li>
                </ol>

                <h2>File Types Explained</h2>
                <ul>
                    <li><strong>theme.flstheme:</strong> FL Studio theme configuration file with color definitions</li>
                    <li><strong>background.png:</strong> Your custom background image optimized for FL Studio</li>
                    <li><strong>colors.txt:</strong> Reference file with all your chosen colors</li>
                    <li><strong>install_instructions.txt:</strong> Detailed installation guide included in download</li>
                </ul>

                <div class="note">
                    <strong>üí° Tip:</strong> Keep your original FL Studio files backed up so you can always restore them if needed!
                </div>

                <h2>Troubleshooting</h2>
                <ul>
                    <li><strong>Theme not showing:</strong> Make sure FL Studio is completely closed before copying files</li>
                    <li><strong>Colors look wrong:</strong> Try adjusting the brightness/contrast of your colors</li>
                    <li><strong>Image looks stretched:</strong> Use an image that matches your monitor's aspect ratio</li>
                    <li><strong>Can't find Artwork folder:</strong> Search for "FL Studio" in your Program Files directory</li>
                </ul>

                <h2>Best Practices</h2>
                <ul>
                    <li>Use high-resolution images (1920x1080 or higher) for best quality</li>
                    <li>Choose contrasting colors for better readability</li>
                    <li>Test your theme with different FL Studio windows and plugins</li>
                    <li>Keep text colors light if using dark backgrounds</li>
                    <li>Save multiple versions to compare different color schemes</li>
                </ul>

                <div class="success">
                    <strong>‚úì Ready to Create:</strong> Switch back to the Theme Creator tab to start building your custom FL Studio theme!
                </div>
            </div>
        </div>
    </div>

    <script>
        let uploadedImage = null;
        let generatedFiles = {};

        function switchTab(index) {
            const tabs = document.querySelectorAll('.tab');
            const contents = document.querySelectorAll('.tab-content');
            
            tabs.forEach(t => t.classList.remove('active'));
            contents.forEach(c => c.classList.remove('active'));
            
            tabs[index].classList.add('active');
            contents[index].classList.add('active');
        }

        // Color picker synchronization
        ['color1', 'color2', 'color3', 'color4'].forEach(id => {
            const picker = document.getElementById(id);
            const text = document.getElementById(id + 'Hex');
            
            picker.addEventListener('input', (e) => {
                text.value = e.target.value;
            });
            
            text.addEventListener('input', (e) => {
                if (/^#[0-9A-F]{6}$/i.test(e.target.value)) {
                    picker.value = e.target.value;
                }
            });
        });

        // Upload area functionality
        const uploadArea = document.getElementById('uploadArea');
        const fileInput = document.getElementById('fileInput');

        uploadArea.addEventListener('click', () => fileInput.click());

        uploadArea.addEventListener('dragover', (e) => {
            e.preventDefault();
            uploadArea.classList.add('dragover');
        });

        uploadArea.addEventListener('dragleave', () => {
            uploadArea.classList.remove('dragover');
        });

        uploadArea.addEventListener('drop', (e) => {
            e.preventDefault();
            uploadArea.classList.remove('dragover');
            const file = e.dataTransfer.files[0];
            if (file && file.type.startsWith('image/')) {
                handleFile(file);
            }
        });

        fileInput.addEventListener('change', (e) => {
            const file = e.target.files[0];
            if (file) {
                handleFile(file);
            }
        });

        function handleFile(file) {
            const reader = new FileReader();
            reader.onload = (e) => {
                uploadedImage = e.target.result;
                document.getElementById('previewImg').src = uploadedImage;
                document.getElementById('imagePreview').style.display = 'block';
                document.getElementById('generateBtn').disabled = false;
                showStatus('Image uploaded successfully!', 'success');
            };
            reader.readAsDataURL(file);
        }

        function generateTheme() {
            if (!uploadedImage) {
                showStatus('Please upload an image first!', 'error');
                return;
            }

            const themeName = document.getElementById('themeName').value || 'Custom Theme';
            const author = document.getElementById('themeAuthor').value || 'Anonymous';
            const colors = {
                primary: document.getElementById('color1Hex').value,
                secondary: document.getElementById('color2Hex').value,
                highlight: document.getElementById('color3Hex').value,
                text: document.getElementById('color4Hex').value
            };

            // Generate theme XML file (FL Studio uses XML-based theme format)
            const flsThemeContent = `<?xml version="1.0" encoding="UTF-8"?>
<FLStudioTheme>
  <ThemeInfo>
    <Name>${themeName}</Name>
    <Author>${author}</Author>
    <Version>1.0</Version>
    <Date>${new Date().toISOString().split('T')[0]}</Date>
  </ThemeInfo>
  <Colors>
    <Primary>${colors.primary}</Primary>
    <Secondary>${colors.secondary}</Secondary>
    <Highlight>${colors.highlight}</Highlight>
    <Text>${colors.text}</Text>
  </Colors>
  <Images>
    <Background>background.png</Background>
  </Images>
</FLStudioTheme>`;

            // Generate colors reference
            const colorsContent = `FL Studio Theme Colors
Theme: ${themeName}
Author: ${author}
Generated: ${new Date().toLocaleString()}

Primary Accent: ${colors.primary}
Secondary Accent: ${colors.secondary}
Highlight Color: ${colors.highlight}
Text Color: ${colors.text}

Hex codes for manual editing:
Primary RGB: ${hexToRgb(colors.primary)}
Secondary RGB: ${hexToRgb(colors.secondary)}
Highlight RGB: ${hexToRgb(colors.highlight)}
Text RGB: ${hexToRgb(colors.text)}`;

            // Generate installation instructions
            const instructionsContent = `FL STUDIO THEME INSTALLATION INSTRUCTIONS
==========================================

Theme: ${themeName}
Author: ${author}

IMPORTANT: FL Studio Theme File Format
This tool generates a .flstheme file. However, please note:
- FL Studio's native .flstheme format is proprietary and binary
- This tool creates an XML-based theme file
- For full theme support, you may need to manually edit FL Studio's theme files

INSTALLATION STEPS:
1. Close FL Studio completely
2. Navigate to: C:\\Program Files\\Image-Line\\FL Studio 21\\Artwork
   (or wherever your FL Studio is installed)
3. BACKUP the original files first!
4. Copy the background.png to the Artwork folder
5. For colors, you'll need to manually edit FL Studio's settings:
   - Open FL Studio
   - Go to Options > General Settings
   - Select your preferred color scheme
   - Manually set colors using the hex codes below

YOUR THEME COLORS:
- Primary Accent: ${colors.primary}
- Secondary Accent: ${colors.secondary}
- Highlight: ${colors.highlight}
- Text: ${colors.text}

ALTERNATIVE METHOD (Manual Theme Creation):
1. Place background.png in the Artwork folder
2. In FL Studio, go to Options > General Settings > Display
3. Set your background image
4. Manually configure colors in the color scheme editor

TROUBLESHOOTING:
- If theme doesn't appear, verify file locations
- Make sure FL Studio has full write permissions
- Try running FL Studio as administrator
- Restore backup files if issues persist

NOTE: FL Studio's actual theme format is proprietary. This tool provides
the base files you need, but some manual configuration may be required.

Generated: ${new Date().toLocaleString()}`;

            generatedFiles = {
                'theme.flstheme': flsThemeContent,
                'colors.txt': colorsContent,
                'install_instructions.txt': instructionsContent,
                'background.png': uploadedImage
            };

            showStatus('Theme files generated successfully! Click "Download All Files" to get your theme.', 'success');
        }

        function hexToRgb(hex) {
            const r = parseInt(hex.slice(1, 3), 16);
            const g = parseInt(hex.slice(3, 5), 16);
            const b = parseInt(hex.slice(5, 7), 16);
            return `RGB(${r}, ${g}, ${b})`;
        }

        function downloadAll() {
            if (Object.keys(generatedFiles).length === 0) {
                showStatus('Please generate theme files first!', 'error');
                return;
            }

            // Download each file individually
            Object.keys(generatedFiles).forEach(filename => {
                downloadFile(filename, generatedFiles[filename]);
            });

            showStatus('All files downloaded! Check your downloads folder.', 'success');
        }

        function downloadFile(filename, content) {
            let blob;
            if (filename.endsWith('.png')) {
                blob = dataURLtoBlob(content);
            } else if (filename.endsWith('.flstheme')) {
                // Save as XML with .flstheme extension
                blob = new Blob([content], { type: 'application/xml' });
            } else {
                blob = new Blob([content], { type: 'text/plain' });
            }
            
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = filename;
            a.click();
            URL.revokeObjectURL(url);
        }

        function dataURLtoBlob(dataURL) {
            const arr = dataURL.split(',');
            const mime = arr[0].match(/:(.*?);/)[1];
            const bstr = atob(arr[1]);
            let n = bstr.length;
            const u8arr = new Uint8Array(n);
            while (n--) {
                u8arr[n] = bstr.charCodeAt(n);
            }
            return new Blob([u8arr], { type: mime });
        }

        function resetAll() {
            if (confirm('Are you sure you want to reset everything?')) {
                uploadedImage = null;
                generatedFiles = {};
                document.getElementById('fileInput').value = '';
                document.getElementById('imagePreview').style.display = 'none';
                document.getElementById('generateBtn').disabled = true;
                document.getElementById('themeName').value = 'Custom Theme';
                document.getElementById('themeAuthor').value = 'Anonymous';
                document.getElementById('statusMessage').innerHTML = '';
            }
        }

        function showStatus(message, type) {
            const statusDiv = document.getElementById('statusMessage');
            statusDiv.className = type;
            statusDiv.textContent = message;
            statusDiv.style.display = 'block';
        }
    </script>
</body>
</html>
